webpackJsonp([4],{1009:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrap"},[n("div",{staticClass:"crumbs"},[n("el-breadcrumb",{attrs:{separator:">"}},[n("el-breadcrumb-item",[t._v("\n                员工管理\n            ")]),t._v(" "),n("el-breadcrumb-item",[t._v("更新记录")])],1)],1),t._v(" "),n("el-table",{staticClass:"table-list",attrs:{data:t.tableData,border:"","row-style":{height:"30px"}}},[n("el-table-column",{attrs:{label:"序号",width:"70",scope:"scope",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{domProps:{textContent:t._s(e.$index+1)}})]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"batchNo",label:"编号",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{prop:"totalCount",label:"上传员工数量",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{prop:"successCount",label:"上传成功",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{prop:"failCount",label:"上传失败",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{prop:"loginName",label:"操作人",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{prop:"createTime",label:"操作时间",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){t.showBatchInfo(e.$index)}}},[t._v("查看")])]}}])})],1),t._v(" "),n("div",{staticClass:"pagination"},[n("el-pagination",{attrs:{"current-page":t.pageIndex,"page-sizes":[10,20,50],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.recordsTotal},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.pageIndex=e}}})],1),t._v(" "),n("el-dialog",{staticClass:"batch-info-dialog",attrs:{title:"员工信息",visible:t.dialogTableVisible},on:{"update:visible":function(e){t.dialogTableVisible=e}}},[n("el-tabs",{attrs:{type:"card"},on:{"tab-click":t.handleSwitch},model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[n("el-tab-pane",{attrs:{label:"上传员工",name:""}}),t._v(" "),n("el-tab-pane",{attrs:{label:"上传成功",name:"SUCCESS"}}),t._v(" "),n("el-tab-pane",{attrs:{label:"上传失败",name:"FAIL"}}),t._v(" "),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.batchInfo.tableData,border:"","row-style":{height:"40px"}}},[n("el-table-column",{attrs:{label:"序号",width:"70",scope:"scope",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{domProps:{textContent:t._s(e.$index+1)}})]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"custName",label:"姓名",align:"center",width:"100"}}),t._v(" "),n("el-table-column",{attrs:{prop:"certNo",label:"身份证号",align:"center",width:"200"}}),t._v(" "),n("el-table-column",{attrs:{prop:"companyName",label:"集团",align:"center",width:"220"}}),t._v(" "),n("el-table-column",{attrs:{prop:"organization",label:"机构",align:"center",width:"150"}}),t._v(" "),n("el-table-column",{attrs:{prop:"department",label:"部门",align:"center",width:"120"}}),t._v(" "),n("el-table-column",{attrs:{prop:"position",label:"职位",align:"center",width:"120"}}),t._v(" "),n("el-table-column",{attrs:{prop:"companyTel",label:"公司电话",align:"center",width:"120"}}),t._v(" "),n("el-table-column",{attrs:{prop:"tel",label:"手机号",align:"center",width:"150"}}),t._v(" "),n("el-table-column",{attrs:{prop:"entryDate",label:"入职时间",align:"center",width:"120"}}),t._v(" "),n("el-table-column",{attrs:{prop:"laborRelationsType.value",label:"劳动合同",align:"center",width:"120"}}),t._v(" "),n("el-table-column",{attrs:{prop:"monthlySalaryRange",label:"月薪范围",align:"center",width:"120"}}),t._v(" "),n("el-table-column",{attrs:{prop:"workStatus.value",label:"工作状态",align:"center",width:"120"}}),t._v(" "),n("el-table-column",{attrs:{prop:"leaveDate",label:"离职时间",align:"center",width:"120"}}),t._v(" "),t.isShow?n("el-table-column",{attrs:{prop:"reason",label:"失败原因",align:"center",width:"250"}}):t._e()],1),t._v(" "),n("div",{staticClass:"pagination"},[n("el-pagination",{attrs:{"current-page":t.batchInfo.pageIndex,"page-sizes":[10,20,50],"page-size":t.batchInfo.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.batchInfo.recordsTotal},on:{"size-change":t.handleSizeChange2,"current-change":t.handleCurrentChange2,"update:currentPage":function(e){t.$set(t.batchInfo,"pageIndex",e)}}})],1)],1)],1)],1)},staticRenderFns:[]}},514:function(t,e,n){n(783);var a=n(200)(n(565),n(1009),"data-v-a7e68ba8",null);t.exports=a.exports},519:function(t,e,n){"use strict";function a(t){var e,n;this.promise=new t(function(t,a){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=a}),this.resolve=r(e),this.reject=r(n)}var r=n(201);t.exports.f=function(t){return new a(t)}},520:function(t,e,n){var a=n(136),r=n(49)("toStringTag"),o="Arguments"==a(function(){return arguments}()),i=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,n,c;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=i(e=Object(t),r))?n:o?a(e):"Object"==(c=a(e))&&"function"==typeof e.callee?"Arguments":c}},521:function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},522:function(t,e,n){var a=n(65),r=n(67),o=n(519);t.exports=function(t,e){if(a(t),r(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},523:function(t,e,n){var a=n(65),r=n(201),o=n(49)("species");t.exports=function(t,e){var n,i=a(t).constructor;return void 0===i||void 0==(n=a(i)[o])?e:r(n)}},524:function(t,e,n){var a,r,o,i=n(202),c=n(530),s=n(203),l=n(137),u=n(33),f=u.process,h=u.setImmediate,p=u.clearImmediate,d=u.MessageChannel,v=u.Dispatch,b=0,g={},m=function(){var t=+this;if(g.hasOwnProperty(t)){var e=g[t];delete g[t],e()}},_=function(t){m.call(t.data)};h&&p||(h=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return g[++b]=function(){c("function"==typeof t?t:Function(t),e)},a(b),b},p=function(t){delete g[t]},"process"==n(136)(f)?a=function(t){f.nextTick(i(m,t,1))}:v&&v.now?a=function(t){v.now(i(m,t,1))}:d?(r=new d,o=r.port2,r.port1.onmessage=_,a=i(o.postMessage,o,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(a=function(t){u.postMessage(t+"","*")},u.addEventListener("message",_,!1)):a="onreadystatechange"in l("script")?function(t){s.appendChild(l("script")).onreadystatechange=function(){s.removeChild(this),m.call(t)}}:function(t){setTimeout(i(m,t,1),0)}),t.exports={set:h,clear:p}},525:function(t,e,n){t.exports={default:n(527),__esModule:!0}},527:function(t,e,n){n(205),n(206),n(207),n(538),n(539),n(540),t.exports=n(50).Promise},528:function(t,e){t.exports=function(t,e,n,a){if(!(t instanceof e)||void 0!==a&&a in t)throw TypeError(n+": incorrect invocation!");return t}},529:function(t,e,n){var a=n(202),r=n(532),o=n(531),i=n(65),c=n(204),s=n(537),l={},u={},e=t.exports=function(t,e,n,f,h){var p,d,v,b,g=h?function(){return t}:s(t),m=a(n,f,e?2:1),_=0;if("function"!=typeof g)throw TypeError(t+" is not iterable!");if(o(g)){for(p=c(t.length);p>_;_++)if((b=e?m(i(d=t[_])[0],d[1]):m(t[_]))===l||b===u)return b}else for(v=g.call(t);!(d=v.next()).done;)if((b=r(v,m,d.value,e))===l||b===u)return b};e.BREAK=l,e.RETURN=u},530:function(t,e){t.exports=function(t,e,n){var a=void 0===n;switch(e.length){case 0:return a?t():t.call(n);case 1:return a?t(e[0]):t.call(n,e[0]);case 2:return a?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return a?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return a?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},531:function(t,e,n){var a=n(88),r=n(49)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(a.Array===t||o[r]===t)}},532:function(t,e,n){var a=n(65);t.exports=function(t,e,n,r){try{return r?e(a(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&a(o.call(t)),e}}},533:function(t,e,n){var a=n(49)("iterator"),r=!1;try{var o=[7][a]();o.return=function(){r=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!r)return!1;var n=!1;try{var o=[7],i=o[a]();i.next=function(){return{done:n=!0}},o[a]=function(){return i},t(o)}catch(t){}return n}},534:function(t,e,n){var a=n(33),r=n(524).set,o=a.MutationObserver||a.WebKitMutationObserver,i=a.process,c=a.Promise,s="process"==n(136)(i);t.exports=function(){var t,e,n,l=function(){var a,r;for(s&&(a=i.domain)&&a.exit();t;){r=t.fn,t=t.next;try{r()}catch(a){throw t?n():e=void 0,a}}e=void 0,a&&a.enter()};if(s)n=function(){i.nextTick(l)};else if(o){var u=!0,f=document.createTextNode("");new o(l).observe(f,{characterData:!0}),n=function(){f.data=u=!u}}else if(c&&c.resolve){var h=c.resolve();n=function(){h.then(l)}}else n=function(){r.call(a,l)};return function(a){var r={fn:a,next:void 0};e&&(e.next=r),t||(t=r,n()),e=r}}},535:function(t,e,n){var a=n(52);t.exports=function(t,e,n){for(var r in e)n&&t[r]?t[r]=e[r]:a(t,r,e[r]);return t}},536:function(t,e,n){"use strict";var a=n(33),r=n(50),o=n(53),i=n(51),c=n(49)("species");t.exports=function(t){var e="function"==typeof r[t]?r[t]:a[t];i&&e&&!e[c]&&o.f(e,c,{configurable:!0,get:function(){return this}})}},537:function(t,e,n){var a=n(520),r=n(49)("iterator"),o=n(88);t.exports=n(50).getIteratorMethod=function(t){if(void 0!=t)return t[r]||t["@@iterator"]||o[a(t)]}},538:function(t,e,n){"use strict";var a,r,o,i,c=n(89),s=n(33),l=n(202),u=n(520),f=n(66),h=n(67),p=n(201),d=n(528),v=n(529),b=n(523),g=n(524).set,m=n(534)(),_=n(519),y=n(521),w=n(522),x=s.TypeError,S=s.process,I=s.Promise,T="process"==u(S),z=function(){},C=r=_.f,P=!!function(){try{var t=I.resolve(1),e=(t.constructor={})[n(49)("species")]=function(t){t(z,z)};return(T||"function"==typeof PromiseRejectionEvent)&&t.then(z)instanceof e}catch(t){}}(),D=function(t){var e;return!(!h(t)||"function"!=typeof(e=t.then))&&e},j=function(t,e){if(!t._n){t._n=!0;var n=t._c;m(function(){for(var a=t._v,r=1==t._s,o=0;n.length>o;)!function(e){var n,o,i=r?e.ok:e.fail,c=e.resolve,s=e.reject,l=e.domain;try{i?(r||(2==t._h&&R(t),t._h=1),!0===i?n=a:(l&&l.enter(),n=i(a),l&&l.exit()),n===e.promise?s(x("Promise-chain cycle")):(o=D(n))?o.call(n,c,s):c(n)):s(a)}catch(t){s(t)}}(n[o++]);t._c=[],t._n=!1,e&&!t._h&&k(t)})}},k=function(t){g.call(s,function(){var e,n,a,r=t._v,o=E(t);if(o&&(e=y(function(){T?S.emit("unhandledRejection",r,t):(n=s.onunhandledrejection)?n({promise:t,reason:r}):(a=s.console)&&a.error&&a.error("Unhandled promise rejection",r)}),t._h=T||E(t)?2:1),t._a=void 0,o&&e.e)throw e.v})},E=function(t){if(1==t._h)return!1;for(var e,n=t._a||t._c,a=0;n.length>a;)if(e=n[a++],e.fail||!E(e.promise))return!1;return!0},R=function(t){g.call(s,function(){var e;T?S.emit("rejectionHandled",t):(e=s.onrejectionhandled)&&e({promise:t,reason:t._v})})},N=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),j(e,!0))},L=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw x("Promise can't be resolved itself");(e=D(t))?m(function(){var a={_w:n,_d:!1};try{e.call(t,l(L,a,1),l(N,a,1))}catch(t){N.call(a,t)}}):(n._v=t,n._s=1,j(n,!1))}catch(t){N.call({_w:n,_d:!1},t)}}};P||(I=function(t){d(this,I,"Promise","_h"),p(t),a.call(this);try{t(l(L,this,1),l(N,this,1))}catch(t){N.call(this,t)}},a=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},a.prototype=n(535)(I.prototype,{then:function(t,e){var n=C(b(this,I));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=T?S.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&j(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new a;this.promise=t,this.resolve=l(L,t,1),this.reject=l(N,t,1)},_.f=C=function(t){return t===I||t===i?new o(t):r(t)}),f(f.G+f.W+f.F*!P,{Promise:I}),n(90)(I,"Promise"),n(536)("Promise"),i=n(50).Promise,f(f.S+f.F*!P,"Promise",{reject:function(t){var e=C(this);return(0,e.reject)(t),e.promise}}),f(f.S+f.F*(c||!P),"Promise",{resolve:function(t){return w(c&&this===i?I:this,t)}}),f(f.S+f.F*!(P&&n(533)(function(t){I.all(t).catch(z)})),"Promise",{all:function(t){var e=this,n=C(e),a=n.resolve,r=n.reject,o=y(function(){var n=[],o=0,i=1;v(t,!1,function(t){var c=o++,s=!1;n.push(void 0),i++,e.resolve(t).then(function(t){s||(s=!0,n[c]=t,--i||a(n))},r)}),--i||a(n)});return o.e&&r(o.v),n.promise},race:function(t){var e=this,n=C(e),a=n.reject,r=y(function(){v(t,!1,function(t){e.resolve(t).then(n.resolve,a)})});return r.e&&a(r.v),n.promise}})},539:function(t,e,n){"use strict";var a=n(66),r=n(50),o=n(33),i=n(523),c=n(522);a(a.P+a.R,"Promise",{finally:function(t){var e=i(this,r.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return c(e,t()).then(function(){return n})}:t,n?function(n){return c(e,t()).then(function(){throw n})}:t)}})},540:function(t,e,n){"use strict";var a=n(66),r=n(519),o=n(521);a(a.S,"Promise",{try:function(t){var e=r.f(this),n=o(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},565:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(525),r=n.n(a);e.default={data:function(){return{dialogTableVisible:!1,pageSize:10,recordsTotal:null,pageIndex:1,searchInfo:{pageSize:10,pageIndex:0,type:"EMPLOYEE"},tableData:null,workStatusList:null,laborRelationsTypeList:null,activeTab:"",batchInfo:{pageSize:null,recordsTotal:null,pageIndex:1,searchInfo:{batchNo:null,pageSize:10,pageIndex:0,type:""},tableData:null}}},computed:{isShow:function(){return"SUCCESS"!=this.activeTab}},created:function(){this.getDict()},methods:{handleSizeChange:function(t){t<this.pageSize?(this.tableData.splice(t),this.pageSize=t,this.searchInfo.pageSize=t):(this.pageSize=t,this.searchInfo.pageSize=t,this.search())},handleCurrentChange:function(t){this.pageIndex=t,this.searchInfo.pageIndex=t-1,this.search()},handleSizeChange2:function(t){this.batchInfo.pageSize=t,this.batchInfo.searchInfo.pageSize=t,t<this.pageSize?this.batchInfo.tableData.splice(t):this.batchSearch()},handleCurrentChange2:function(t){this.batchInfo.pageIndex=t,this.batchInfo.searchInfo.pageIndex=t-1,this.batchSearch()},getDict:function(){var t=this;new r.a(function(t,e){resource.getDictByType({type:"work_status"},function(n){"000000"==n.code?t(n):e(n)})}).then(function(e){t.workStatusList=e.data},function(e){t.$message.error(e.msg)}),new r.a(function(t,e){resource.getDictByType({type:"labor_relations_type"},function(n){"000000"==n.code?t(n):e(n)})}).then(function(e){t.laborRelationsTypeList=e.data},function(e){t.$message.error(e.msg)}),t.search()},convertDict:function(t,e){for(var n=0;n<e.length;n++){var a=e[n];if(t==a.code)return a}return{}},handleSwitch:function(){this.batchInfo.searchInfo.type=this.activeTab,this.batchSearch()},showBatchInfo:function(t){this.tableData[t].batchNo!=this.batchInfo.searchInfo.batchNo&&(this.batchInfo={pageSize:10,recordsTotal:null,pageIndex:1,searchInfo:{batchNo:this.tableData[t].batchNo,pageSize:10,pageIndex:0,type:""},tableData:null},this.batchSearch()),this.dialogTableVisible=!0},search:function(){var t=this;resource.batchUploadLog(t.searchInfo,function(e){"000000"==e.code?(t.tableData=e.data.data,t.recordsTotal=e.data.recordsTotal):t.$message.error(e.msg)})},batchSearch:function(){var t=this;resource.manageUploadList(t.batchInfo.searchInfo,function(e){"000000"==e.code?(t.batchInfo.tableData=e.data.pageResult.data,t.batchInfo.tableData.forEach(function(e,n,a){e.workStatus=t.convertDict(e.workStatus,t.workStatusList),e.laborRelationsType=t.convertDict(e.laborRelationsType,t.workStatusList)}),t.batchInfo.recordsTotal=e.data.pageResult.recordsTotal):t.$message.error(e.msg)})}}}},680:function(t,e,n){e=t.exports=n(502)(!1),e.push([t.i,".table-list[data-v-a7e68ba8]{margin-top:20px}.el-table td[data-v-a7e68ba8],.el-table th[data-v-a7e68ba8]{height:30px}.batch-info-dialog[data-v-a7e68ba8]{width:170%;margin-left:-35%}",""])},783:function(t,e,n){var a=n(680);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n(503)("60afc077",a,!0)}});