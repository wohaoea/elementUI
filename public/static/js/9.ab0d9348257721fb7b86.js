webpackJsonp([9],{1002:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"header"},[o("div",{staticClass:"logo"},[e._v("人力金融管理系统")]),e._v(" "),o("div",{staticClass:"user-info"},[o("el-dropdown",{attrs:{trigger:"click"},on:{command:e.handleCommand}},[o("span",{staticClass:"el-dropdown-link"},[e._v("\n                欢迎，"+e._s(e.userName)+"  \n                "),o("i",{staticClass:"el-icon-arrow-down"})]),e._v(" "),o("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[o("el-dropdown-item",{attrs:{command:"updatepasword"}},[e._v("修改密码")]),e._v(" "),o("el-dropdown-item",{attrs:{command:"loginout"}},[e._v("退出")])],1)],1),e._v(" "),o("el-dialog",{attrs:{title:"修改密码",visible:e.upPasswordDialog,width:"30%",center:""},on:{"update:visible":function(t){e.upPasswordDialog=t}}},[o("el-form",{ref:"upPwdForm",attrs:{model:e.upPwdForm,rules:e.rules,"label-position":"right","label-width":"200px"}},[o("el-form-item",{attrs:{label:"姓名"}},[o("el-col",{staticClass:"line",attrs:{span:18}},[o("el-input",{attrs:{value:e.upPwdForm.userName,disabled:!0}})],1)],1),e._v(" "),o("el-form-item",{attrs:{label:"用户名"}},[o("el-col",{staticClass:"line",attrs:{span:18}},[o("el-input",{attrs:{value:e.upPwdForm.loginName,disabled:!0}})],1)],1),e._v(" "),o("el-form-item",{attrs:{label:"原密码",prop:"originalLoginPassword"}},[o("el-col",{staticClass:"line",attrs:{span:18}},[o("el-input",{attrs:{type:"password"},model:{value:e.upPwdForm.originalLoginPassword,callback:function(t){e.$set(e.upPwdForm,"originalLoginPassword",t)},expression:"upPwdForm.originalLoginPassword"}})],1)],1),e._v(" "),o("el-form-item",{attrs:{label:"新密码",prop:"newLoginPassword"}},[o("el-col",{staticClass:"line",attrs:{span:18}},[o("el-input",{attrs:{type:"password"},model:{value:e.upPwdForm.newLoginPassword,callback:function(t){e.$set(e.upPwdForm,"newLoginPassword",t)},expression:"upPwdForm.newLoginPassword"}})],1)],1),e._v(" "),o("el-form-item",{attrs:{label:"确认密码",prop:"confirmLoginPassword"}},[o("el-col",{staticClass:"line",attrs:{span:18}},[o("el-input",{attrs:{type:"password"},model:{value:e.upPwdForm.confirmLoginPassword,callback:function(t){e.$set(e.upPwdForm,"confirmLoginPassword",t)},expression:"upPwdForm.confirmLoginPassword"}})],1)],1)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer",align:"center"},slot:"footer"},[o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.updatePassword("upPwdForm")}}},[e._v("确 定")]),e._v(" "),o("el-button",{on:{click:function(t){e.upPasswordDialog=!1}}},[e._v("取 消")])],1)],1)],1)])},staticRenderFns:[]}},506:function(e,t,o){var s=o(201)(o(556),o(998),null,null);e.exports=s.exports},555:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){var e=this,t=new RegExp(/^(?![\d]+$)(?![a-zA-Z]+$)(?![!#$%^&*]+$)[\da-zA-Z!#$%^&*]{6,30}$/);return{loginName:"",userName:"",upPasswordDialog:!1,upPwdForm:{},rules:{originalLoginPassword:[{required:!0,message:"请输入原密码",trigger:"blur"}],newLoginPassword:[{validator:function(o,s,r){""===s?r(new Error("请输入新密码")):t.test(s)?(""!==e.upPwdForm.confirmLoginPassword&&e.$refs.upPwdForm.validateField("confirmLoginPassword"),r()):r(new Error("密码长度为6-30位字符，必须以数字或字母开头，由数字、字母、特殊符号至少两种组合组成"))},trigger:"blur"}],confirmLoginPassword:[{validator:function(t,o,s){""===o?s(new Error("请再次输入密码")):o!==e.upPwdForm.newLoginPassword?s(new Error("您输入的新密码与确认密码不一致")):s()},trigger:"blur"}]}}},created:function(){this.loginName=localStorage.getItem("ms_loginName"),this.userName=localStorage.getItem("ms_userName")},methods:{checkUserLoginStatus:function(){var e=this;resource.checkUserLoginStatus({},function(t){"000000"==t.code?0==t.data.isValid?(e.$message.error("您的账号在其他地方登录"),e.$router.push("/login")):2==t.data.isValid||setTimeout(function(){e.checkUserLoginStatus()},3e3):e.$message.error(t.msg)})},handleCommand:function(e){if("loginout"==e){var t=this;resource.loginOut({loginName:this.loginName},function(e){"000000"==e.code?(t.$message({message:"已退出登录",type:"success"}),localStorage.removeItem("ms_loginName"),t.$router.push("/login")):t.$message.error(e.msg)})}"updatepasword"==e&&(this.upPwdForm={userName:localStorage.getItem("ms_userName"),loginName:localStorage.getItem("ms_loginName"),originalLoginPassword:"",newLoginPassword:"",confirmLoginPassword:""},this.upPasswordDialog=!0,this.resetForm("upPwdForm"))},resetForm:function(e){void 0!==this.$refs[e]&&"function"==typeof this.$refs[e].resetFields&&this.$refs[e].resetFields()},updatePassword:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;resource.updatePassword(t.upPwdForm,function(e){"000000"==e.code?(t.$message({message:e.msg,type:"success"}),t.upPasswordDialog=!1):t.$message.error(e.msg)})})}}}},556:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=o(985),r=o.n(s),i=o(986),a=o.n(i);t.default={components:{vHead:r.a,vSidebar:a.a}}},557:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{items:[{icon:"el-icon-setting",index:"readme",title:"系统管理",subs:[{index:"basetable",title:"后台人员管理"}]},{icon:"el-icon-menu",index:"2",title:"员工管理",subs:[{index:"employeeManager",title:"员工管理"},{index:"updateRecord",title:"更新记录"},{index:"employee",title:"员工信息"}]},{icon:"el-icon-date",index:"3",title:"机构信息",subs:[{index:"organization",title:"机构列表"}]}]}},computed:{onRoutes:function(){return this.$route.path.replace("/","")}}}},673:function(e,t,o){t=e.exports=o(504)(!1),t.push([e.i,".sidebar[data-v-48facc1f]{display:block;position:absolute;width:250px;left:0;top:70px;bottom:0;background:#2e363f}.sidebar>ul[data-v-48facc1f]{height:100%}",""])},676:function(e,t,o){t=e.exports=o(504)(!1),t.push([e.i,".header[data-v-602cb91a]{position:relative;box-sizing:border-box;width:100%;height:70px;font-size:22px;line-height:70px;color:#fff}.header .logo[data-v-602cb91a]{float:left;width:250px;text-align:center}.user-info[data-v-602cb91a]{float:right;padding-right:50px;font-size:16px;color:#fff}.user-info .el-dropdown-link[data-v-602cb91a]{position:relative;display:inline-block;padding-left:50px;color:#fff;cursor:pointer;vertical-align:middle}.user-info .user-logo[data-v-602cb91a]{position:absolute;left:0;top:15px;width:40px;height:40px;border-radius:50%}.el-dropdown-menu__item[data-v-602cb91a]{text-align:center}.row[data-v-602cb91a]{width:1000px}",""])},776:function(e,t,o){var s=o(673);"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);o(505)("39716f93",s,!0)},779:function(e,t,o){var s=o(676);"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);o(505)("9c81090c",s,!0)},985:function(e,t,o){o(779);var s=o(201)(o(555),o(1002),"data-v-602cb91a",null);e.exports=s.exports},986:function(e,t,o){o(776);var s=o(201)(o(557),o(999),"data-v-48facc1f",null);e.exports=s.exports},998:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"wrapper"},[o("v-head"),e._v(" "),o("v-sidebar"),e._v(" "),o("div",{staticClass:"content"},[o("transition",{attrs:{name:"move",mode:"out-in"}},[o("router-view")],1)],1)],1)},staticRenderFns:[]}},999:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"sidebar"},[o("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":e.onRoutes,theme:"dark","unique-opened":"",router:""}},[e._l(e.items,function(t){return[t.subs?[o("el-submenu",{attrs:{index:t.index}},[o("template",{attrs:{slot:"title"},slot:"title"},[o("i",{class:t.icon}),e._v(e._s(t.title))]),e._v(" "),e._l(t.subs,function(t,s){return o("el-menu-item",{key:s,attrs:{index:t.index}},[e._v(e._s(t.title)+"\n                    ")])})],2)]:[o("el-menu-item",{attrs:{index:t.index}},[o("i",{class:t.icon}),e._v(e._s(t.title)+"\n                ")])]]})],2)],1)},staticRenderFns:[]}}});